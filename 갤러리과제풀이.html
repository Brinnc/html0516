<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>갤러리과제풀이</title>
    <style>
        #wrapper {
            width: 600px;
            height: 500px;
            background: yellow;
            margin: auto;
            /*자식요소가 플롯으로 떠있을 경우 부모요소는 반드시 ... display:hidden*/

        }

        #side {
            width: 50px;
            height: 100%;
            background: black;
            float: left;
            text-align: center;
        }

        #content {
            width: 550px;
            height: 100%;
            background: blueviolet;
            float: left;
        }

        #header {
            width: 100%;
            height: 450px;
            background: skyblue;
        }

        #footer {
            width: 100%;
            height: 50px;
            background: royalblue;
        }
    </style>
    <script>
        //전역변수 선언 시 약속: 코드 중간에 선언하지 않는다! 
        //왜? 코드를 분석할때마다 변수를 찾아야하기때문.
        let img; //갤러리의 큰 사진 이미지(전역변수)
        let n=1; //이미지의 이름을 결정짓는 숫자, 전역으로 선언한 이유?
                    //프로그램이 가동되는 동안에 그 값을 계속 유지한 상태에서 증가시키거나 감소시켜야 하므로.

        function init() {
            for (i = 1; i <= 10; i++) {
                //문서가 로드되면 side div 요소 안에 이미지들을 동적으로 생성하여 부착함.
                let img = document.createElement("img"); //<img>
                img.src = "../images/m" + i + ".jpg" //<img src="">
                img.style.width = 45 + "px";
                img.style.height = 45 + "px";


                let side = document.getElementById("side");
                side.appendChild(img);
            }

            //함수 내에서 다른 함수 호출함.
            view();
            
            //이전 다음 버튼에 대하여 클릭 이벤트 연결하기
            //문서 내의 bt_prev, bt_next 요소에 대해 이벤트 연결
            let bt_prev=document.getElementById("bt_prev");
            let bt_next=document.getElementById("bt_next");

            bt_prev.addEventListener("click", function(){
                //이전 사진 나오게 처리
                console.log("이전사진");

                if(n>1){
                n--;
                img.src="../images/m"+n+".jpg";
                }else{
                    alert("이전 사진이 없음");
                }

                
                
            });

            bt_next.addEventListener("click", function(){
                //다음 사진 나오게 처리
                console.log("다음사진");
                //문서 내의 큰 사진(전역변수화 시킴)의 src값을 다음값으로 교체

                if(n<10){
                n++;
                img.src="../images/m"+n+".jpg";
                }else{
                    alert("다음 사진이 없음");
                }
                
                //아래의 코드 영역은 n이 10을 넘어설 때만 실행되는 조건문의 영역
                /*if(n>10){ 
                    alert("더이상 사진이 없음");
                }*/
            });
        }

        //큰 상세 이미지 나오게함.
        function view() {
            //문서 내의 header요소에 이미지 중 첫번째 이미지를 생성하여
            //자식요소로 부착함.
            img = document.createElement("img"); //<img>
            img.src = "../images/m1.jpg";
            img.style.width = "100%";
            img.style.height = "450px";


            let header = document.getElementById("header");
            header.appendChild(img); //자식요소로 img를 추가함

        }
    </script>
</head>

<body onLoad="init()">
    <div id="wrapper">
        <div id="side"></div>
        <div id="content">
            <div id="header"></div>
            <div id="footer">
                <button id="bt_prev">◀</button>
                <button id="bt_next">▶</button>
            </div>
        </div>
    </div>
</body>

</html>